syntax = "proto3";

package person;

option go_package = "github.com/okieoth/hort/examples/crud/protobuf";
import "google/protobuf/timestamp.proto";


enum PersonIEnum {
    PERSONIENUM_UNSPECIFIED = 0;
    VALUE_1 = 1;
    VALUE_2 = 2;
    VALUE_4 = 4;
    VALUE_8 = 8;
    VALUE_16 = 16;
}


enum PersonRolesItems {
    PERSONROLESITEMS_UNSPECIFIED = 0;
	ADMIN = 1;
	EDITOR = 2;
	VIEWER = 3;
}

message Person {

	int32 age = 1;

	PersonContact contact = 2;

	repeated PersonRolesItems roles = 3;

	bool isActive = 4;

	google.protobuf.Timestamp createdAt = 5;

	PersonIEnum iEnum = 6;

	string id = 7;

	PersonName name = 8;

}

message PersonContact {

	string email = 1;

	string phone = 2;

	PersonContactAddress address = 3;

}

message PersonContactAddress {

	string street = 1;

	string city = 2;

	string postalCode = 3;

	string country = 4;

}

message PersonName {

	string first = 1;

	string middle = 2;

	string last = 3;

}




message CreatePersonRequest {
  Person person = 1;
}
message CreatePersonResponse {
  Person person = 1;
}

message GetPersonRequest {
  string id = 1;
}
message GetPersonResponse {
  Person person = 1;
}

message UpdatePersonRequest {
  Person person = 1;
}
message UpdatePersonResponse {
  Person person = 1;
}

message DeletePersonRequest {
  string id = 1;
}
message DeletePersonResponse {
  bool success = 1;
}

message ListPersonsRequest {
  int32 page_size = 1;
  string page_token = 2;
}
message ListPersonsResponse {
  repeated Person persons = 1;
  string next_page_token = 2;
}

service PersonService {
  rpc CreatePerson(CreatePersonRequest) returns (CreatePersonResponse);
  rpc GetPerson(GetPersonRequest) returns (GetPersonResponse);
  rpc UpdatePerson(UpdatePersonRequest) returns (UpdatePersonResponse);
  rpc DeletePerson(DeletePersonRequest) returns (DeletePersonResponse);
  rpc ListPersons(ListPersonsRequest) returns (ListPersonsResponse);
}






